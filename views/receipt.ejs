<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <!-- CSS file will be accessed from the current working dir. I guess -->
        <link rel="stylesheet" type="text/css" href="/css/style.css">
    </head>
    
    <body>
        <script>
        
        let text = '';
        let dates = <%- JSON.stringify(dates) %>;

        for( let i = 0; i < dates.length; i++ ) {
            let start_date = dates[i].start_date;
            let end_date = dates[i].end_date;
            let assessmentdate = dates[i].assessment_date;
            let receipt_amount = dates[i].duration * <%= amount %>;

            text += `<div id="receipt_block" style="border: 1px solid black">
                    <h3>RENT RECEIPT</h3>
                    <p>Date: ${ assessmentdate }</p>
                
                    <p>Received sum of <strong>Rs ${ receipt_amount }</strong> from <strong><%= tenant %></strong> towards the rent of property located at 
                    <strong><%= address %></strong> for the period from <strong>${ start_date }</strong> 
                    to <strong>${ end_date }</strong>.</p> 
                    <br>
                    <p><strong><%= owner %></strong><br>
                    (Landlord)</p>
                </div>`
        }

        document.write(text);

        </script>
    </body>
</html>