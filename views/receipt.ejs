<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <!-- CSS file will be accessed from the current working dir. I guess -->
        <link rel="stylesheet" type="text/css" href="/css/style.css">
    </head>
    
    <body>
        <script src='/javascript/date_scripts.js'></script>
        <script>
        
        let text = '';
        let dates = <%- JSON.stringify(dates) %>;

        for( let i = 0; i < dates.length - 1; i++ ) {
            let start_date = customDateFormat(new Date(dates[i]));
            let end_date = customDateFormat(getLastDateOfMonth(new Date(dates[i])));
            let assessmentdate = customDateFormat(new Date(dates[i+1]));

            text += `<div id="receipt_block" style="border: 1px solid black">
                    <h3>RENT RECEIPT</h3>
                    Date: ${ assessmentdate }<br><br>
                
                    Received sum of <b>Rs <%= amount %></b> from <b><%= tenant %></b> towards the rent of property located at 
                    <b><%= address %></b> for the period from <b>${ start_date }</b> 
                    to <b>${ end_date }</b>. 
                    <br><br><br><br>
                    <b><% owner %></b><br>
                    (Landlord)
                </div>`
        }

        document.write(text);

        </script>
    </body>
</html>